{"version":3,"sources":["webpack:///./src/components/content/ContentPaperOutline.vue?c7f4","webpack:///src/components/content/ContentPaperOutline.vue","webpack:///./src/components/content/ContentPaperOutline.vue?a146","webpack:///./src/components/content/ContentPaperOutline.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","fail","_e","directives","name","rawName","value","expression","_l","outline","key","sha","staticStyle","margin-bottom","style","backgroundColor","cardBackgroundColor","color","cardTextColor","attrs","shadow","slot","_v","_s","float","type","on","click","$event","clickOutline","resource","size","title","description","failReason","closable","show-icon","staticRenderFns","ContentPaperOutlinevue_type_script_lang_js_","data","outlines","loading","methods","loadOutlineDirectory","_this","url","$store","state","paper_outline","outline_url","$http","get","then","response","i","length","_response$data$i","_url","html_url","push","_i","loadOutlineUrl","catch","error","dirObj","_this2","$set","outlineNameReg","regexpre","test","_response$data$i2","_url2","path","outlineObj","commit","metadata","link","currentComponent","setCardTheme","themeIndex","theme","currentThemeIndex","allThemes","themes","_allThemes$themeIndex","card","textColor","created","computed","urlChange","themeChange","watch","content_ContentPaperOutlinevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0da591.fdee4a95.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.fail)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},_vm._l((_vm.outlines),function(outline){return _c('el-card',{key:outline.sha,staticStyle:{\"margin-bottom\":\"15px\"},style:({ backgroundColor: _vm.cardBackgroundColor, color: _vm.cardTextColor }),attrs:{\"shadow\":\"hover\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('b',[_vm._v(\" üìë \"+_vm._s(outline.name)+\" \")])]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.clickOutline(outline.resource)}}},[_vm._v(\"\\n          Detail\\n        \")])],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(outline.loading),expression:\"outline.loading\"}]},[(outline.resource)?_c('div',[_c('p',[_vm._v(\"\\n            üîè SHA: \"),_c('b',[_vm._v(\" \"+_vm._s(outline.resource.sha)+\" \")])]),_c('p',[_vm._v(\"\\n            ‚úíÔ∏è Size: \"),_c('b',[_vm._v(\" \"+_vm._s(outline.resource.size)+\" \")]),_vm._v(\" Bytes\\n          \")])]):_vm._e()])])}),1):_vm._e(),(_vm.fail)?_c('el-alert',{attrs:{\"title\":\"Loading failed\",\"type\":\"error\",\"description\":_vm.failReason,\"closable\":false,\"show-icon\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- \r\n\r\n  @author - Mr Dk.\r\n  @version - 2019/07/25\r\n\r\n  @description - \r\n    The content component for displaying paper outlines\r\n\r\n-->\r\n\r\n<template>\r\n  <div>\r\n\r\n    <!-- Content -->\r\n    <div\r\n      v-if=\"!fail\"\r\n      v-loading=\"loading\">\r\n\r\n      <!-- Every card for paper outlines -->\r\n      <el-card\r\n        v-for=\"outline in outlines\"\r\n        :key=\"outline.sha\"\r\n        shadow=\"hover\"\r\n        style=\"margin-bottom: 15px;\"\r\n        v-bind:style=\"{ backgroundColor: cardBackgroundColor, color: cardTextColor }\">\r\n\r\n        <div slot=\"header\">\r\n          <span>\r\n            <b> üìë {{ outline.name }} </b>\r\n          </span>\r\n          <el-button\r\n            style=\"float: right\" type=\"text\"\r\n            @click=\"clickOutline(outline.resource)\">\r\n            Detail\r\n          </el-button>\r\n        </div>\r\n        <div v-loading=\"outline.loading\">\r\n          <div v-if=\"outline.resource\">\r\n            <p>\r\n              üîè SHA: <b> {{ outline.resource.sha }} </b>\r\n            </p>\r\n            <p>\r\n              ‚úíÔ∏è Size: <b> {{ outline.resource.size }} </b> Bytes\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n      </el-card>\r\n    </div>\r\n\r\n    <!-- Load failure -->\r\n    <el-alert\r\n      v-if=\"fail\"\r\n      title=\"Loading failed\"\r\n      type=\"error\"\r\n      :description=\"failReason\"\r\n      :closable=\"false\"\r\n      show-icon>\r\n    </el-alert>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ContentPaperOutline\",\r\n  data: function () {\r\n    return  {\r\n      outlines: null, // For outlines in a repository directory\r\n      loading: true, // For displaying loading status\r\n      fail: false, // Set to true if loading error occurs\r\n      failReason: \"\", // Reason of failure\r\n\r\n      cardBackgroundColor: null,\r\n      cardTextColor: null\r\n    };\r\n  },\r\n  methods: {\r\n\r\n    // Load one of the outline topic\r\n    loadOutlineDirectory: function () {\r\n      // Get topic URL\r\n      const url = this.$store.state.paper_outline.outline_url;\r\n      // Initialize component status\r\n      this.outlines = [];\r\n      this.fail = false;\r\n      this.failReason = \"\";\r\n      this.loading = true;\r\n      // Issue HTTP request\r\n      this.$http.get(url).then(response => {\r\n\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          let { url, name, sha, html_url } = response.data[i];\r\n          this.outlines.push({ url, name, sha, html_url });\r\n        }\r\n        // All directories in a topic load complete\r\n        this.loading = false;\r\n        // Start loading outline file metadata in each derectory\r\n        for (let i = 0; i < this.outlines.length; i++) {\r\n          this.loadOutlineUrl(this.outlines[i].url, this.outlines[i]);\r\n        }\r\n        \r\n      }).catch(error => {\r\n        // HTTP failure\r\n        this.fail = true;\r\n        this.failReason = error;\r\n      });\r\n    },\r\n\r\n    // Load outline file metadata in a directory\r\n    loadOutlineUrl: function (url, dirObj) {\r\n      // Set loading status of metadata\r\n      this.$set(dirObj, \"loading\", true);\r\n      // Issue HTTP request\r\n      this.$http.get(url).then(response => {\r\n        const outlineNameReg = this.$store.state.regexpre.outlineNameReg;\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          if (outlineNameReg.test(response.data[i].name)) {\r\n            // Filter only outline files in markdown format\r\n            let { url, sha, size, html_url, path } = response.data[i];\r\n            // Set the metadata, change loading status\r\n            this.$set(dirObj, \"resource\", { url, sha, size, html_url, path });\r\n            this.$set(dirObj, \"loading\", false);\r\n          }\r\n        }\r\n\r\n      }).catch(error => {\r\n        // HTTP failure\r\n        this.fail = true;\r\n        this.failReason = error;\r\n      });\r\n    },\r\n\r\n    // Jump to the outline detail\r\n    clickOutline: function (outlineObj) {\r\n      this.$store.commit(\"setMarkdownUrl\", {\r\n        url: outlineObj.url,\r\n        metadata: {\r\n          link: outlineObj.html_url,\r\n          sha: outlineObj.sha,\r\n          size: outlineObj.size,\r\n          path: outlineObj.path\r\n        }\r\n      });\r\n      this.$store.commit(\"setCurrentContent\", { currentComponent: \"ContentMarkdown\" });\r\n    },\r\n\r\n    // Set the background color and text color of the cards\r\n    setCardTheme: function () {\r\n      const themeIndex = this.$store.state.theme.currentThemeIndex;\r\n      const allThemes = this.$store.state.theme.themes;\r\n      let { backgroundColor, textColor } = allThemes[themeIndex].card;\r\n      this.cardBackgroundColor = backgroundColor;\r\n      this.cardTextColor = textColor;\r\n    }\r\n\r\n  },\r\n  created: function () {\r\n    // Initializing the data from GitHub\r\n    this.loadOutlineDirectory();\r\n    this.setCardTheme();\r\n  },\r\n  computed: {\r\n\r\n    // Listening for the URL changed\r\n    urlChange: function () {\r\n      return this.$store.state.paper_outline.outline_url;\r\n    },\r\n\r\n    // Listening for the theme changed\r\n    themeChange: function () {\r\n      return this.$store.state.theme.currentThemeIndex;\r\n    }\r\n\r\n  },\r\n  watch: {\r\n\r\n    // The URL change triggered\r\n    // Reinitializing the conponent's status\r\n    urlChange: function () {\r\n      this.loadOutlineDirectory();\r\n    },\r\n\r\n    // Set the theme of the card\r\n    themeChange: function () {\r\n      this.setCardTheme();\r\n    }\r\n\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentPaperOutline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentPaperOutline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentPaperOutline.vue?vue&type=template&id=5d91c1ac&\"\nimport script from \"./ContentPaperOutline.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentPaperOutline.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}