{"version":3,"sources":["webpack:///./src/components/content/index/IndexEmotion.vue?83b3","webpack:///src/components/content/index/IndexEmotion.vue","webpack:///./src/components/content/index/IndexEmotion.vue?9e7e","webpack:///./src/components/content/index/IndexEmotion.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","class","theme","fail","_e","key","attrs","current","emotions","length","on","preEmotion","_v","_s","emotionLinkText","staticStyle","date","_l","line","index","nextEmotion","failReason","staticRenderFns","props","data","loading","emotionText","methods","getEmotions","$http","get","repoUrl","then","url","getEmotionContent","response","encoding","previous","str","created","component"],"mappings":"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","file":"js/chunk-2d219f95.b071de88.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(this.loading),expression:\"this.loading\"}],class:_vm.theme},[(!_vm.fail)?_c('el-timeline',[_c('el-timeline-item',{key:0,attrs:{\"placement\":\"top\",\"type\":\"info\"}},[(!_vm.fail)?_c('el-link',{attrs:{\"type\":(this.current === this.emotions.length - 1) ? 'info' : 'primary'},on:{\"click\":_vm.preEmotion}},[_vm._v(\" \"+_vm._s(this.emotionLinkText(true))+\" \")]):_vm._e()],1),_c('el-timeline-item',{key:1,attrs:{\"placement\":\"top\",\"size\":\"large\",\"type\":\"primary\"}},[_c('h1',{staticStyle:{\"font-size\":\"28px\"}},[_vm._v(\" \"+_vm._s(\"ðŸ’­ \" + this.date)+\" \")]),_vm._l((_vm.emotionText),function(line,index){return _c('p',{key:index,staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" \"+_vm._s(line)+\" \"),_c('br')])})],2),_c('el-timeline-item',{key:2,attrs:{\"placement\":\"top\",\"type\":\"info\"}},[(!_vm.fail)?_c('el-link',{attrs:{\"type\":(this.current === 0) ? 'info' : 'primary'},on:{\"click\":_vm.nextEmotion}},[_vm._v(\" \"+_vm._s(this.emotionLinkText(false))+\" \")]):_vm._e()],1)],1):_vm._e(),(_vm.fail)?_c('el-alert',{attrs:{\"title\":\"Loading failed\",\"type\":\"error\",\"description\":_vm.failReason,\"closable\":false,\"show-icon\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- \r\n\r\n  @author - Mr Dk.\r\n  @version - 2019/11/09\r\n\r\n  @description - \r\n    The index component for displaying emotions\r\n\r\n-->\r\n\r\n<template>\r\n  <div :class=\"theme\" v-loading=\"this.loading\">\r\n\r\n    <el-timeline\r\n      v-if=\"!fail\">\r\n      \r\n      <el-timeline-item\r\n        :key=\"0\"\r\n        placement=\"top\"\r\n        type=\"info\">\r\n\r\n        <el-link\r\n          v-if=\"!fail\"\r\n          :type=\"(this.current === this.emotions.length - 1) ? 'info' : 'primary'\"\r\n          @click=\"preEmotion\">\r\n          {{ this.emotionLinkText(true) }}\r\n        </el-link>\r\n      </el-timeline-item>\r\n\r\n      <el-timeline-item\r\n        :key=\"1\"\r\n        placement=\"top\"\r\n        size=\"large\"\r\n        type=\"primary\">\r\n\r\n        <h1 style=\"font-size: 28px;\"> {{ \"ðŸ’­ \" + this.date }} </h1>\r\n        <p style=\"font-size: 18px;\" v-for=\"(line, index) in emotionText\" :key=\"index\">\r\n          {{ line }} <br/>\r\n        </p>\r\n\r\n      </el-timeline-item>\r\n\r\n      <el-timeline-item\r\n        :key=\"2\"\r\n        placement=\"top\"\r\n        type=\"info\">\r\n\r\n        <el-link\r\n          v-if=\"!fail\"\r\n          :type=\"(this.current === 0) ? 'info' : 'primary'\"\r\n          @click=\"nextEmotion\">\r\n          {{ this.emotionLinkText(false) }}\r\n        </el-link>\r\n      </el-timeline-item>\r\n\r\n    </el-timeline>\r\n\r\n    <el-alert\r\n      v-if=\"fail\"\r\n      title=\"Loading failed\"\r\n      type=\"error\"\r\n      :description=\"failReason\"\r\n      :closable=\"false\"\r\n      show-icon>\r\n    </el-alert>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"theme\"],\r\n  data: function () {\r\n    return {\r\n\r\n      fail: true,\r\n      failReason: \"\",\r\n      loading: true,\r\n\r\n      emotions: [],\r\n      current: 0,\r\n      date: \"\",\r\n      emotionText: []\r\n\r\n    };\r\n  },\r\n\r\n  methods: {\r\n\r\n    getEmotions: function () {\r\n      const repoUrl = this.$store.state.githubapi.emotion.url;\r\n      this.loading = true;\r\n      this.emotions = [];\r\n      this.$http.get(repoUrl).then(response => {\r\n\r\n        for (let i = 0; i < response.data.length; i++) {\r\n          let { name, url } = response.data[i];\r\n          this.emotions.push({\r\n            date: name,\r\n            url\r\n          });\r\n        }\r\n\r\n        this.emotions.reverse();\r\n        this.getEmotionContent(0);\r\n\r\n        this.fail = false;\r\n        // this.loading = false;\r\n\r\n      }).catch(error => {\r\n        this.fail = true;\r\n        this.failReason = error.message;\r\n        this.loading = false;\r\n      })\r\n    },\r\n\r\n    getEmotionContent: function (index) {\r\n      this.loading = true;\r\n      this.emotionText = [];\r\n      this.$http.get(this.emotions[index].url).then(response => {\r\n        if (response.data.encoding === \"base64\") {\r\n          // Parse encoded Base64 to markdown\r\n          let text = decodeURIComponent(escape(window.atob(response.data.content)));\r\n          this.date = this.emotions[index].date;\r\n          this.emotionText = text.split(\"\\n\");\r\n\r\n        } else {\r\n          // Encoding not support\r\n          this.emotionText.push(\"Encoding not support.\");\r\n        }\r\n\r\n        this.fail = false;\r\n        this.loading = false;\r\n\r\n      }).catch(error => {\r\n        this.fail = true;\r\n        this.failReason = error.message;\r\n        this.loading = false;\r\n      })\r\n    },\r\n\r\n    preEmotion: function () {\r\n      if (!(this.current === this.emotions.length - 1)) {\r\n        this.current++;\r\n        this.getEmotionContent(this.current);\r\n      }\r\n    },\r\n\r\n    nextEmotion: function () {\r\n      if (!(this.current === 0)) {\r\n        this.current--;\r\n        this.getEmotionContent(this.current);\r\n      }\r\n    },\r\n\r\n    emotionLinkText: function (previous) {\r\n      if (previous) {\r\n        let str = \"Previous Emotion: \";\r\n        if (this.current != this.emotions.length - 1) {\r\n          return str + \"ðŸ“… \" + this.emotions[this.current + 1].date;\r\n        } else {\r\n          // No more previous emotion\r\n          return str + \"ðŸ˜… no more\";\r\n        }\r\n      } else {\r\n        let str = \"Next Emotion: \";\r\n        if (this.current != 0) {\r\n          return str + \"ðŸ“… \" + this.emotions[this.current - 1].date;\r\n        } else {\r\n          // No more next emotion\r\n          return str + \"ðŸ˜… no more\";\r\n        }\r\n      }\r\n    }\r\n    \r\n  },\r\n\r\n  created: function () {\r\n    this.getEmotions();\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexEmotion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexEmotion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndexEmotion.vue?vue&type=template&id=08e6ec9e&\"\nimport script from \"./IndexEmotion.vue?vue&type=script&lang=js&\"\nexport * from \"./IndexEmotion.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}