(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2715e4e8"],{"4f76":function(e,t,r){"use strict";var i=r("9e18"),a=r.n(i);a.a},5319:function(e,t,r){"use strict";var i=r("d784"),a=r("825a"),n=r("7b0b"),o=r("50c4"),s=r("a691"),l=r("1d80"),c=r("8aa5"),u=r("14c3"),h=Math.max,p=Math.min,d=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};i("replace",2,(function(e,t,r,i){var m=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=i.REPLACE_KEEPS_$0,b=m?"$":"$0";return[function(r,i){var a=l(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,a,i):t.call(String(a),r,i)},function(e,i){if(!m&&y||"string"===typeof i&&-1===i.indexOf(b)){var n=r(t,e,this,i);if(n.done)return n.value}var l=a(e),d=String(this),g="function"===typeof i;g||(i=String(i));var f=l.global;if(f){var C=l.unicode;l.lastIndex=0}var _=[];while(1){var L=u(l,d);if(null===L)break;if(_.push(L),!f)break;var k=String(L[0]);""===k&&(l.lastIndex=c(d,o(l.lastIndex),C))}for(var x="",T=0,$=0;$<_.length;$++){L=_[$];for(var w=String(L[0]),E=h(p(s(L.index),d.length),0),M=[],P=1;P<L.length;P++)M.push(v(L[P]));var R=L.groups;if(g){var j=[w].concat(M,E,d);void 0!==R&&j.push(R);var z=String(i.apply(void 0,j))}else z=S(w,d,E,M,R,i);E>=T&&(x+=d.slice(T,E)+z,T=E+w.length)}return x+d.slice(T)}];function S(e,r,i,a,o,s){var l=i+e.length,c=a.length,u=f;return void 0!==o&&(o=n(o),u=g),t.call(s,u,(function(t,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,i);case"'":return r.slice(l);case"<":s=o[n.slice(1,-1)];break;default:var u=+n;if(0===u)return t;if(u>c){var h=d(u/10);return 0===h?t:h<=c?void 0===a[h-1]?n.charAt(1):a[h-1]+n.charAt(1):t}s=a[u-1]}return void 0===s?"":s}))}}))},"6ae5":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.fail?e._e():r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:e.theme},[Math.ceil(e.outlines.length/e.pageSize)>1?r("el-pagination",{staticStyle:{"text-align":"center"},attrs:{layout:"prev, pager, next","page-count":Math.ceil(e.outlines.length/e.pageSize)},on:{"current-change":e.handleCurrentChange}}):e._e(),e._l(e.outlines.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),(function(t){return r("el-card",{key:t.sha,staticStyle:{"margin-bottom":"15px"},style:{backgroundColor:e.cardBackgroundColor,color:e.cardTextColor},attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[r("b",[e._v(" 📑 "+e._s(t.name)+" ")])]),r("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:function(r){return e.clickOutline(t)}}},[e._v(" Detail ")])],1),r("div",[t.resource?r("div",[r("p",[e._v(" 💾 File size: "),r("b",[e._v(" "+e._s(t.resource.size)+" ")]),e._v(" KiB ")]),r("p",[e._v(" 🔏 SHA: "),r("b",[e._v(" "+e._s(t.resource.sha)+" ")])]),r("p",[e._v(" 📌 "),r("el-link",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.resource.copyLink,expression:"outline.resource.copyLink",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onCopyError,expression:"onCopyError",arg:"error"}],attrs:{type:"warning"}},[e._v(" Copy the link to the clipboard ")])],1)]):e._e(),!t.pdf?e._e():r("p",[e._v(" 🖨️ "),r("el-link",{attrs:{href:t.pdf.download_url,type:"primary"}},[e._v(" Paper download ")])],1),!t.slide?e._e():r("p",[e._v(" 📽️ "),r("el-link",{attrs:{href:t.slide.download_url,type:"primary"}},[e._v(" Slides download ")])],1)])])})),Math.ceil(e.outlines.length/e.pageSize)>1?r("el-pagination",{staticStyle:{"text-align":"center"},attrs:{layout:"prev, pager, next","page-count":Math.ceil(e.outlines.length/e.pageSize)},on:{"current-change":e.handleCurrentChange}}):e._e()],2),e.fail?r("el-alert",{attrs:{title:"Loading failed",type:"error",description:e.failReason,closable:!1,"show-icon":""}}):e._e()],1)},a=[],n=(r("b0c0"),r("d3b7"),r("ac1f"),r("5319"),r("ddb0"),{name:"ContentPaperOutline",props:["theme"],data:function(){return{outlines:null,loading:!0,fail:!1,failReason:"",cardBackgroundColor:null,cardTextColor:null,currentPage:1,pageSize:6}},methods:{loadOutlineDirectory:function(){var e=this,t=this.$route.query.repo,r=this.$route.query.path;this.outlines=[],this.fail=!1,this.failReason="",this.loading=!0;var i=this.$store.state.githubapi.query,a=this.$store.state.githubapi.apiv4,n=this.$store.state.githubapi.pat,o=i[t].fileFilter,s=this.$store.state.regexpre.pdfFormatReg,l=this.$store.state.regexpre.pptFormatReg,c=i.outline_list;c=c.replace("<repo>",t.replace(/_/g,"-")),c=c.replace("<path>",r),this.$http.post(a,{query:c},{headers:{Authorization:"bearer "+n}}).then((function(i){for(var a=i.data.data.repository.object.entries,n=0;n<a.length;n++){e.outlines.push({name:a[n].name.replace(" -",":"),path:r+"/"+a[n].name,repo:t});for(var c=0;c<a[n].object.entries.length;c++)o.test(a[n].object.entries[c].name)?e.$set(e.outlines[n],"resource",{sha:a[n].object.entries[c].oid,path:e.outlines[n].path+"/"+a[n].object.entries[c].name,size:a[n].object.entries[c].object.byteSize/1024,copyLink:"https://mrdrivingduck.github.io/#/markdown?repo="+t+"&path="+e.outlines[n].path+"/"+a[n].object.entries[c].name}):s.test(a[n].object.entries[c].name)?e.$set(e.outlines[n],"pdf",{download_url:"https://raw.githubusercontent.com/mrdrivingduck/paper-outline/master/"+e.outlines[n].path+"/"+a[n].object.entries[c].name}):l.test(a[n].object.entries[c].name)&&e.$set(e.outlines[n],"slide",{download_url:"https://raw.githubusercontent.com/mrdrivingduck/paper-outline/master/"+e.outlines[n].path+"/"+a[n].object.entries[c].name})}e.loading=!1})).catch((function(t){e.fail=!0,e.failReason=t.message}))},clickOutline:function(e){this.$router.push({path:"/markdown",query:{repo:e.repo,path:e.resource.path}}).catch((function(e){}))},setCardTheme:function(){var e=this.$store.state.theme.currentThemeIndex,t=this.$store.state.theme.themes,r=t[e].card,i=r.backgroundColor,a=r.textColor;this.cardBackgroundColor=i,this.cardTextColor=a},handleCurrentChange:function(e){this.currentPage=e},onCopySuccess:function(){this.$notify({title:"Copy successfully 😁",message:"The link is on your clipboard.",type:"success"})},onCopyError:function(){this.$notify({title:"Copy failed 😥",message:"There might be a BUG.",type:"error"})}},created:function(){this.loadOutlineDirectory(),this.setCardTheme()},computed:{themeChange:function(){return this.$store.state.theme.currentThemeIndex}},watch:{themeChange:function(){this.setCardTheme()},$route:function(){this.loadOutlineDirectory()}}}),o=n,s=(r("4f76"),r("2877")),l=Object(s["a"])(o,i,a,!1,null,null,null);t["default"]=l.exports},"9e18":function(e,t,r){},ddb0:function(e,t,r){var i=r("da84"),a=r("fdbc"),n=r("e260"),o=r("9112"),s=r("b622"),l=s("iterator"),c=s("toStringTag"),u=n.values;for(var h in a){var p=i[h],d=p&&p.prototype;if(d){if(d[l]!==u)try{o(d,l,u)}catch(f){d[l]=u}if(d[c]||o(d,c,h),a[h])for(var g in n)if(d[g]!==n[g])try{o(d,g,n[g])}catch(f){d[g]=n[g]}}}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-2715e4e8.5edc85ca.js.map